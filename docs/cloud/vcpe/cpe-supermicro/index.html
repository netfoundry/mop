
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../../../images/fav.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-4.6.3" name="generator"/>
<title>SuperMicro (UCPE) setup - QuickStart Guides</title>
<link href="../../../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
<link href="../../../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../../../extra.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<svg class="md-svg">
<defs>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#supermicro_ucpe_setup" tabindex="0">
        Skip to content
      </a>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application header -->
<header class="md-header" data-md-component="header">
<!-- Top-level navigation -->
<nav class="md-header-nav md-grid">
<div class="md-flex">
<!-- Link to home -->
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="QuickStart Guides" class="md-header-nav__button md-logo" href="../../.." title="QuickStart Guides">
<img alt="logo" height="24" src="../../../images/wide_logo.png" width="24"/>
</a>
</div>
<!-- Button to toggle drawer -->
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<!-- Header title -->
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
                QuickStart Guides
              </span>
<span class="md-header-nav__topic">
                
                  SuperMicro (UCPE) setup
                
              </span>
</div>
<span class="md-footer-meta md-typeset">
<div class="md-footer-social">
<link href="../../../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-github" href="https://github.com/netfoundry" rel="noopener" target="_blank" title="github"></a>
<a class="md-footer-social__link fa fa-twitter" href="https://twitter.com/netfoundry" rel="noopener" target="_blank" title="twitter"></a>
<a class="md-footer-social__link fa fa-linkedin" href="https://linkedin.com/company/netfoundry" rel="noopener" target="_blank" title="linkedin"></a>
</div>
</span>
</div>
<!-- Button to open search dialogue -->
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Type to start searching
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Repository containing source -->
</div>
</nav>
</header>
<div class="md-container">
<nav class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../..">
        Home
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../netfoundry/intro/">
          NetFoundry Basics
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../overview/">
          Cloud Providers
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../hypervisor/overview/">
          HyperVisors
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../api/overview/">
          API
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="../../.." title="QuickStart Guides">
<img alt="logo" height="48" src="../../../images/wide_logo.png" width="48"/>
</a>
    QuickStart Guides
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../.." title="Home">
      Home
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      NetFoundry Basics
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-2">
        NetFoundry Basics
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../netfoundry/intro/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../netfoundry/fabric/" title="NF Fabric">
      NF Fabric
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../netfoundry/client/" title="NF Clients">
      NF Clients
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../netfoundry/gateway/" title="NF Gateways">
      NF Gateways
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../netfoundry/zitiprobe/" title="Ziti Probe">
      Ziti Probe
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Cloud Providers
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-3">
        Cloud Providers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" id="nav-3-2" type="checkbox"/>
<label class="md-nav__link" for="nav-3-2">
      AliCloud
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-2">
        AliCloud
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/getting-started/" title="Getting Started Guide">
      Getting Started Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/user-guild/" title="User Guide">
      User Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" id="nav-3-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3-3">
      AWS
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-3">
        AWS
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws/aws-bastion/" title="Bastion Replacement Removal">
      Bastion Replacement Removal
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" id="nav-3-4" type="checkbox"/>
<label class="md-nav__link" for="nav-3-4">
      Azure
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-4">
        Azure
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/intro/" title="Use Cases Overview">
      Use Cases Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/accessing-azure-stack/" title="Accessing Azure Stack">
      Accessing Azure Stack
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/azure-bastion/" title="Bastion Replacement Removal">
      Bastion Replacement Removal
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/connectApp2App/" title="Branch Application To Cloud Application Connectivity">
      Branch Application To Cloud Application Connectivity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/connectUser2App/" title="Mobile User To Cloud Application Connectivity">
      Mobile User To Cloud Application Connectivity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/o365-optimization/" title="MS Office 365 Optimize">
      MS Office 365 Optimize
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" id="nav-3-5" type="checkbox"/>
<label class="md-nav__link" for="nav-3-5">
      GCP
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-5">
        GCP
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../gcp/getting-started/" title="Getting Started Guide">
      Getting Started Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../gcp/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" id="nav-3-6" type="checkbox"/>
<label class="md-nav__link" for="nav-3-6">
      Digital Ocean
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-6">
        Digital Ocean
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../digitalocean/getting-started/" title="Getting Stared Guide">
      Getting Stared Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../digitalocean/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" id="nav-3-7" type="checkbox"/>
<label class="md-nav__link" for="nav-3-7">
      OCP
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-7">
        OCP
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ocp/getting-started/" title="Getting Started Guide">
      Getting Started Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ocp/image-import/" title="Importing an image">
      Importing an image
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ocp/remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" id="nav-3-8" type="checkbox"/>
<label class="md-nav__link" for="nav-3-8">
      VCPE
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-8">
        VCPE
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cpe-automation/" title="CPE Automation">
      CPE Automation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../remote-access/" title="Remote Access Guide">
      Remote Access Guide
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      HyperVisors
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-4">
        HyperVisors
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hypervisor/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
      Hyper-V
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
        Hyper-V
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hypervisor/hyper-v/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" id="nav-4-3" type="checkbox"/>
<label class="md-nav__link" for="nav-4-3">
      KVM
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-3">
        KVM
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hypervisor/kvm/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" id="nav-4-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4-4">
      VMware
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-4">
        VMware
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hypervisor/vmware/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" id="nav-4-5" type="checkbox"/>
<label class="md-nav__link" for="nav-4-5">
      VirtualBox
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-5">
        VirtualBox
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../hypervisor/virtualbox/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      API
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" id="nav-5-2" type="checkbox"/>
<label class="md-nav__link" for="nav-5-2">
      Bash
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-2">
        Bash
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/bash/overview/" title="Overview">
      Overview
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" id="nav-5-3" type="checkbox"/>
<label class="md-nav__link" for="nav-5-3">
      Powershell
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-3">
        Powershell
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/powershell/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/powershell/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" id="nav-5-4" type="checkbox"/>
<label class="md-nav__link" for="nav-5-4">
      Python
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-4">
        Python
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/python/overview/" title="Overview">
      Overview
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#supermicro_ucpe_setup">
    SuperMicro (UCPE) setup
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1_introduction">
    1. Introduction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2_cubic_approach">
    2. Cubic Approach
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21_general_info">
    2.1 General info
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22_obtain_the_installation_media_and_create_installation_usb">
    2.2 Obtain the installation media and create installation USB
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23_install_ubuntu_2004_server_on_supermicro">
    2.3 Install Ubuntu 20.04 server on Supermicro
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24_install_gui">
    2.4 Install GUI
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#25_generate_custom_installer_using_cubic">
    2.5 Generate custom installer using Cubic
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3_create_ansible_playbook_for_integrator">
    3 Create Ansible playbook for integrator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_create_an_golden_image_for_the_integrator">
    4 Create an golden image for the integrator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_procedure_for_burning_the_produced_image">
    4 Procedure for burning the produced image
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-icon md-content__icon" download href="cpe-supermicro.pdf" title="PDF Export"></a>
<h1>SuperMicro (UCPE) setup</h1>
<h2 id="supermicro_ucpe_setup">SuperMicro (UCPE) setup<a class="headerlink" href="#supermicro_ucpe_setup" title="Permanent link">@</a></h2>
<p>Follow this guild to setup the SuperMicro box for use with V7 network. The OS for this white box will be Ubuntu 20.04</p>
<h2 id="1_introduction">1. Introduction<a class="headerlink" href="#1_introduction" title="Permanent link">@</a></h2>
<p>We have not decided how to deliver our installation media to the customer yet.  That will be determined later on based on the system integrator we pick.</p>
<p>There are three approaches on how to deliver the image.
<li>Build a installation media with Cubic. Ship the installation media to the integrator.
<li>Create an ansible image for the integrator.
<li>Create a golden image for the integrator.</li></li></li></p>
<h2 id="2_cubic_approach">2. Cubic Approach<a class="headerlink" href="#2_cubic_approach" title="Permanent link">@</a></h2>
<h3 id="21_general_info">2.1 General info<a class="headerlink" href="#21_general_info" title="Permanent link">@</a></h3>
<p>With the Cubic approach, the customer get a modified Ubuntu 20.04 installation image. This section is going to cover how to create that image. The image will not be CIS hardened.  The CIS hardening script renders the installation image useless.  The CIS hardening will need to be called via cloud-init after the installation, which makes the installation process much longer. So this approach is not desirable. </p>
<h3 id="22_obtain_the_installation_media_and_create_installation_usb">2.2 Obtain the installation media and create installation USB<a class="headerlink" href="#22_obtain_the_installation_media_and_create_installation_usb" title="Permanent link">@</a></h3>
<p>The Cubic requires GUI to run, so the installation ISO can be the desktop version of the Ubuntu20.04.  But the installation ISO we going to create is based on the server version, so we going to cover the steps based on Ubuntu 20.04 server installation.</p>
<p>This document is not going to cover how to create USB installation stick.</p>
<h3 id="23_install_ubuntu_2004_server_on_supermicro">2.3 Install Ubuntu 20.04 server on Supermicro<a class="headerlink" href="#23_install_ubuntu_2004_server_on_supermicro" title="Permanent link">@</a></h3>
<p>Before your installation starts, make sure you connect the ethernet cable to the first interface on the box.  This will make setup the interface a little easier.</p>
<p>Boot up the installation media and start the installation. </p>
<p><img alt="image" src="../../../images/super-micro-01.png">
<br/>Choose the default "English" language or choose your desired language.</img></p>
<p><img alt="image" src="../../../images/super-micro-02.png"/>
<br/>Choose "Continue without updating".</p>
<p><img alt="image" src="../../../images/super-micro-03.png"/>
<br/>Keep the default keyboard layout or choose your keyboard layout (for different language)</p>
<p><img alt="image" src="../../../images/super-micro-04.png"/>
<br/>On the Network interface page, if the interface is connected, you should see an IP address assigned automatically.  If you need to assign a manual IP, you can do so now.  Please write down the IP address, you will need that for the later steps.</p>
<p><img alt="image" src="../../../images/super-micro-05.png"/>
<br/>Skip the Proxy address if you don't use proxy.</p>
<p><img alt="image" src="../../../images/super-micro-06.png"/>
<br/>Keep the default Mirror address and continue</p>
<p><img alt="image" src="../../../images/super-micro-07.png"/>
<br/>Use the entire disk (the default) for installation.</p>
<p><img alt="image" src="../../../images/super-micro-08.png"/></p>
<p><img alt="image" src="../../../images/super-micro-09.png"/>
<br/>Hit continue to confirm the selection</p>
<p><img alt="image" src="../../../images/super-micro-10.png"/>
<br/>Choose your username and server name. Write down the username. We will need the username to login to the system to do future configuration.</p>
<p><img alt="image" src="../../../images/super-micro-11.png"/>
<br/>Enable "Install OpenSSH server" for remote access to the server.</p>
<p><img alt="image" src="../../../images/super-micro-12.png"/>
<br/> Skip the snaps selection and continue.</p>
<p><img alt="image" src="../../../images/super-micro-13.png"/>
<br/> Now system will go into installation and update of the security package. It will take few minutes to finish.</p>
<p><img alt="image" src="../../../images/super-micro-14.png"/>
<br/> When the installation completes, you can reboot the server.</p>
<h3 id="24_install_gui">2.4 Install GUI<a class="headerlink" href="#24_install_gui" title="Permanent link">@</a></h3>
<p>ssh into the box by using the IP address obtained above.  Install the GUI and cubic</p>
<div class="highlight"><pre><span></span><code>ssh ziggy@192.168.1.63
ziggy@192.168.1.63's password: 
&gt; sudo apt update
&gt; sudo apt install tasksel
&gt; sudo tasksel install ubuntu-desktop
&gt; sudo apt-add-repository ppa:cubic-wizard/release
&gt; sudo apt install cubic
</code></pre></div>
<p>Restart the box and login from the graphic terminal.
<div class="highlight"><pre><span></span><code>&gt; sudo shutdown -r 0
</code></pre></div></p>
<p><img alt="image" src="../../../images/super-micro-15.png"/></p>
<h3 id="25_generate_custom_installer_using_cubic">2.5 Generate custom installer using Cubic<a class="headerlink" href="#25_generate_custom_installer_using_cubic" title="Permanent link">@</a></h3>
<p>Copy Ubuntu 20.04 server image (ISO) into the box. If you have the image already, you can simply scp into the box.  Or you can download it again into your box by using firefox browser.</p>
<div class="highlight"><pre><span></span><code>&gt; scp ubuntu-20.04.1-live-server-amd64.iso ziggy@192.168.1.63:
ziggy@192.168.1.63's password: 
ubuntu-20.04.1-live-server-amd64.iso                                 100%  914MB  96.2MB/s   00:09    
</code></pre></div>
<p>Copy setup ansible playbook to the box.
<div class="highlight"><pre><span></span><code>&gt; scp supermicro_playbook.tgz ziggy@192.168.1.63:
ziggy@192.168.1.63's password: 
supermicro_playbook.tgz                                              100%  147KB  24.4MB/s   00:00    
</code></pre></div></p>
<p>Start the Cubic on the desktop.
<img alt="image" src="../../../images/super-micro-16.png"/></p>
<p>Create a directory (cubic1) to save the custom image
<img alt="image" src="../../../images/super-micro-17.png"/></p>
<p>Choose the Ubuntu 20.04 server image. (Rest of the fields will fill themselves)
<img alt="image" src="../../../images/super-micro-18.png"/></p>
<p>Once the image is decompressed, you will see a "Custom Ubuntu ISO Creator" window.
Copy the supermicro ansible tarball into the that window.
then do the following commands:</p>
<div class="highlight"><pre><span></span><code>&gt; sudo apt install ansible
&gt; tar xf supermicro_playbook.tgz 
&gt; cd supermicro_playbook
&gt; ansible-playbook -i hostfile ubbox.yml 
</code></pre></div>
<p>Once the ansible successfully ran (if it is not successful, you can rerun it again), you can delete the playbook.</p>
<div class="highlight"><pre><span></span><code>&gt; cd
&gt; rm -rf supermicro_playbook
&gt; rm -rf supermicro_playbook.tgz
</code></pre></div>
<p>Hit Next on Cubic window and generate the installation image.</p>
<h2 id="3_create_ansible_playbook_for_integrator">3 Create Ansible playbook for integrator<a class="headerlink" href="#3_create_ansible_playbook_for_integrator" title="Permanent link">@</a></h2>
<p>Follow section 2.3 to install Ubuntu 20.04 on the system.</p>
<p>Then copy the ansible playbook to the system.
<div class="highlight"><pre><span></span><code>&gt; scp supermicro_playbook.tgz ziggy@192.168.1.63:
</code></pre></div></p>
<p>Login to the system.
<div class="highlight"><pre><span></span><code>&gt; ssh ziggy@192.168.1.63
</code></pre></div></p>
<p>Perform the following command to run the playbook.
<div class="highlight"><pre><span></span><code>&gt; tar xf supermicro_playbook.tgz 
&gt; mkdir supermicro_playbook
&gt; cd supermicro_playbook
&gt; tar xf ../supermicro_playbook.tgz
&gt; sudo apt install ansible
&gt; sudo su
&gt; ansible-playbook -i hostfile image-build.yml
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the default username (ziggy) changes, we will need to update the ansible-playbook accordingly.</p>
</div>
<h2 id="4_create_an_golden_image_for_the_integrator">4 Create an golden image for the integrator<a class="headerlink" href="#4_create_an_golden_image_for_the_integrator" title="Permanent link">@</a></h2>
<p>Follow steps in section 3 to setup the box.</p>
<p>Use a live CD (for example Fedora LiveCD) to bootup the system.  This ensures the Ubuntu 20.04 installation disk is not the running disk of the OS. We also need another USB stick to save the image (the live CD most likely will have a READ only system).  </p>
<p>After boot up the system with the live CD, open a terminal windows and check what disks are on the system.</p>
<div class="highlight"><pre><span></span><code>$ lsblk
NAME                  MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda                     8:0    1  14.5G  0 disk 
└─sda1                  8:1    1  14.5G  0 part /run/initramfs/live
sdb                     8:16   1  28.9G  0 disk 
└─sdb1                  8:17   1  28.9G  0 part /run/media/liveuser/ADATA UFD
loop0                   7:0    0    12K  1 loop 
loop1                   7:1    0   1.8M  1 loop 
└─live-osimg-min      253:3    0     6G  1 dm   
loop2                   7:2    0   1.3G  1 loop 
loop3                   7:3    0     6G  1 loop 
├─live-rw             253:1    0     6G  0 dm   /
├─live-base           253:2    0     6G  1 dm   
└─live-osimg-min      253:3    0     6G  1 dm   
loop4                   7:4    0   512M  0 loop 
└─live-rw             253:1    0     6G  0 dm   /
nvme0n1               259:0    0 238.5G  0 disk 
├─nvme0n1p1           259:1    0   512M  0 part 
├─nvme0n1p2           259:2    0     1G  0 part 
└─nvme0n1p3           259:3    0   237G  0 part
  └─ubuntu--vg-ubuntu--lv  
                      253:0    0 118.5G  0 lvm 
</code></pre></div>
<p>As you can see, the "sda1" is the liveCD.  "sdb1" is the USB disk for image.  And "nvme0n1" is the internal disk that has our Ubuntu20.04 installed on.</p>
<p>Now, let's mount the "sdb1" and dump image into it. (Note, the image will be compressed to save disk storage.</p>
<div class="highlight"><pre><span></span><code>$ mkdir outdisk
$ sudo mount /dev/sdb1 outdisk
$ cd outdisk/
$ sudo dd if=/dev/nvme0n1 |bzip2 --best &gt;image.bz2
500118192+0 records in
500118192+0 records out
256060514304 bytes (256 GB) copied, 2268.42 s, 113 MB/s
$ ls -l
total 1942912
-rw-r--r--. 1 liveuser liveuser 1989533754 Nov 18 12:47 image.bz2
</code></pre></div>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>The "image.bz2" will be shipped to the integrator to burn into their units.</p>
</div>
<h2 id="4_procedure_for_burning_the_produced_image">4 Procedure for burning the produced image<a class="headerlink" href="#4_procedure_for_burning_the_produced_image" title="Permanent link">@</a></h2>
<p>This section describes a way to burn the UCPE with the image produced in section 3.</p>
<p>Bootup the liveCD with the image USB inserted into the unit.</p>
<p>Open a terminal. And perform the following.  (Please note, the "status=progress" is optional, but it does give good indication where the process is at the moment you monitor the action.</p>
<div class="highlight"><pre><span></span><code>$ mkdir imagedisk
$ sudo mount /dev/sdb1 imagedisk
$ bunzip2 -c image.bz2 | sudo dd of=/dev/nvme0n1 status=progress
256045675008 bytes (256 GB) copied, 4797.524047 s, 53.4 MB/s
500118192+0 records in
500118192+0 records out
256060514304 bytes (256 GB) copied, 4798.08 s, 53.4 MB/s
</code></pre></div>
</article>
</div>
</div>
</main>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application footer -->
<footer class="md-footer">
<!-- Link to previous and/or next page -->
<!-- Further information -->
</footer></div>
</body></html>

<script src="../../../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>

