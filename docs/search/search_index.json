{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Secure Connectivity to Cloud Applications @ Overview @ We will provide series of quickstart guides on how to quickly deploy and configure Secure Overlay Network via NetFoundry to connect Enterprise Remote Users or Branch Applications/Users to Applications located in various public or private clouds. Use cases: @ Azure Cloud Connectivity Use Case Overview Mobile User to Cloud Application Connectivity Branch Application to Cloud Application Connectivity Bastion Host Accessing Azure Stack AWS Cloud Connectivity Overview Bastion Host Google Cloud Connectivity Coming soon Note Regardless of where Applications Users are trying to reach reside, NetFoundry (NF) Network Fabric needs to be provisioned and deployed first. Navigate to NetFoundry/NF Fabric to find more information on how to stand up the NF Network Fabric.","title":"Home"},{"location":"#secure_connectivity_to_cloud_applications","text":"","title":"Secure Connectivity to Cloud Applications"},{"location":"#overview","text":"We will provide series of quickstart guides on how to quickly deploy and configure Secure Overlay Network via NetFoundry to connect Enterprise Remote Users or Branch Applications/Users to Applications located in various public or private clouds.","title":"Overview"},{"location":"#use_cases","text":"Azure Cloud Connectivity Use Case Overview Mobile User to Cloud Application Connectivity Branch Application to Cloud Application Connectivity Bastion Host Accessing Azure Stack AWS Cloud Connectivity Overview Bastion Host Google Cloud Connectivity Coming soon Note Regardless of where Applications Users are trying to reach reside, NetFoundry (NF) Network Fabric needs to be provisioned and deployed first. Navigate to NetFoundry/NF Fabric to find more information on how to stand up the NF Network Fabric.","title":"Use cases:"},{"location":"ansible/","text":"Ansible Roles for Jenkins Pipelines @ Created for Regression Testing of NetFoundry Features, e.g. AVW VPN Sit Creation, Ziti Edge Developer Edition Image. 1. AVW VPN Site Testing Specific Roles: 1. customer-router: simulating a customer router that would peer with NF gateway acting as a AVW VPN Site in a Customer Branch DC 1. frr - a role that configures BGP Routing Agent on the simulated customer router. 1. test-case-01 - test cases that verify that AVW VPN Site Creation through NF MOP Console works as expected. 1. ZEDE Specific Roles 1. zede-client: simulating a client endpoint where a Ziti Tunneler is run 1. zede: VM created from ZEDE image 1. zede-tc-01: test cases to verify that the ZEDE image was build successfully. 1. Shared Roles 1. app-server: simulating a server where the app is run, e.g. webserver, iperf3 performance tool","title":"Ansible Roles for Jenkins Pipelines"},{"location":"ansible/#ansible_roles_for_jenkins_pipelines","text":"Created for Regression Testing of NetFoundry Features, e.g. AVW VPN Sit Creation, Ziti Edge Developer Edition Image. 1. AVW VPN Site Testing Specific Roles: 1. customer-router: simulating a customer router that would peer with NF gateway acting as a AVW VPN Site in a Customer Branch DC 1. frr - a role that configures BGP Routing Agent on the simulated customer router. 1. test-case-01 - test cases that verify that AVW VPN Site Creation through NF MOP Console works as expected. 1. ZEDE Specific Roles 1. zede-client: simulating a client endpoint where a Ziti Tunneler is run 1. zede: VM created from ZEDE image 1. zede-tc-01: test cases to verify that the ZEDE image was build successfully. 1. Shared Roles 1. app-server: simulating a server where the app is run, e.g. webserver, iperf3 performance tool","title":"Ansible Roles for Jenkins Pipelines"},{"location":"aws/aws-bastion/","text":"Overview @ What is a Bastion Host? A bastion host is a server whose purpose is to provide access to a private network from an external network, such as the Internet. Because of its exposure to potential attack, it's important to lock this down as tightly as possible. How can NetFoundry Help? Deploying a bastion host setup with NetFoundry is more secure! Why? Because the bastion doesn't need to be directly accessible from outside networks. It only needs outbound access & can reside in either public or private networks. Solution Architecture @ Standard Bastion Setup @ Netfoundry @ Public @ Private @ Important Assumption is that the NF Fabric is already up and the NF Client is installed. Implement Through NF Web Console UI @ Create and install NF Client @ This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac Create and Install NF AWS Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in an AWS VPC. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the AWS Cloud Gateway Card Fill in the required information and click on \"Create\" Note If this is the first time you've ever launched an AWS NetFoundry Gateway You must accept the AWS license before launching the gateway, please click here: AWS Marketplace Click on \"Launch Gateway Using CloudFormation Script\". It will take you to the AWS console, if you're not already logged in it will ask you for your login credentials. You will be presented with the template parameters that needs to be filled. Fill in the AWS Parameters Section with you're VPC & ssh keyname & Click Create Stack. If the NF Gateway was deployed successfully. Here is the view of the NF Conole UI. Done Create IP Network Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Bastion Replacement Removal"},{"location":"aws/aws-bastion/#overview","text":"What is a Bastion Host? A bastion host is a server whose purpose is to provide access to a private network from an external network, such as the Internet. Because of its exposure to potential attack, it's important to lock this down as tightly as possible. How can NetFoundry Help? Deploying a bastion host setup with NetFoundry is more secure! Why? Because the bastion doesn't need to be directly accessible from outside networks. It only needs outbound access & can reside in either public or private networks.","title":"Overview"},{"location":"aws/aws-bastion/#solution_architecture","text":"","title":"Solution Architecture"},{"location":"aws/aws-bastion/#standard_bastion_setup","text":"","title":"Standard Bastion Setup"},{"location":"aws/aws-bastion/#netfoundry","text":"","title":"Netfoundry"},{"location":"aws/aws-bastion/#public","text":"","title":"Public"},{"location":"aws/aws-bastion/#private","text":"Important Assumption is that the NF Fabric is already up and the NF Client is installed.","title":"Private"},{"location":"aws/aws-bastion/#implement_through_nf_web_console_ui","text":"","title":"Implement Through NF Web Console UI"},{"location":"aws/aws-bastion/#create_and_install_nf_client","text":"This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac","title":"Create and install NF Client"},{"location":"aws/aws-bastion/#create_and_install_nf_aws_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in an AWS VPC. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the AWS Cloud Gateway Card Fill in the required information and click on \"Create\" Note If this is the first time you've ever launched an AWS NetFoundry Gateway You must accept the AWS license before launching the gateway, please click here: AWS Marketplace Click on \"Launch Gateway Using CloudFormation Script\". It will take you to the AWS console, if you're not already logged in it will ask you for your login credentials. You will be presented with the template parameters that needs to be filled. Fill in the AWS Parameters Section with you're VPC & ssh keyname & Click Create Stack. If the NF Gateway was deployed successfully. Here is the view of the NF Conole UI. Done","title":"Create and Install NF AWS Gateway"},{"location":"aws/aws-bastion/#create_ip_network_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done","title":"Create IP Network Service"},{"location":"aws/aws-bastion/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"aws/intro/","text":"Use Case Overview @ Users can reach application located in AWS's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default. Use Case Diagram @","title":"Use Case Overview"},{"location":"aws/intro/#use_case_overview","text":"Users can reach application located in AWS's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default.","title":"Use Case Overview"},{"location":"aws/intro/#use_case_diagram","text":"","title":"Use Case Diagram"},{"location":"azure/","text":"resource.yaml file options @ appwans : - action : { e.g. create , get , delete } endpoints : { list of endpoint names to be added } name : { name for the appwan } services : { list of services to be added } environment : { NF Console Environment , e.g. Production } gateway_list : - action : { e.g. create , get , delete } cloud : { public cloud , e.g. azure } count : 1 names : { empty , will be filled in by script } region : { cloud region that gateways will be deployed in } regionalCidr : { list of IP address space in Resource group } regkeys : { empty , will be filled in by script } resourceGroup : name : { Azure Resource Group name used/created } region : { Azure Resource Group region used/created } tag : { text } network_action : { e.g. create , get , delete } network_name : { network name to use } services : - action : { e.g. create , get , delete } gateway : { name of the gateway used for this service } ip : (destination ip for the service) name : { empty , automatically generated and populated by the wrapper script } port : (destination port for the service) type : { e.g. host , network; host only enabled in this script right now } terraform : bin : { path to terraform binary } output : { boolean e.g. no or yes } source : ./quickstarts/docs/terraform { where the terraform module is located e.g. azure } work_dir : . { directory where the terraform from main plan file to be installed }","title":"resource.yaml file options"},{"location":"azure/#resourceyaml_file_options","text":"appwans : - action : { e.g. create , get , delete } endpoints : { list of endpoint names to be added } name : { name for the appwan } services : { list of services to be added } environment : { NF Console Environment , e.g. Production } gateway_list : - action : { e.g. create , get , delete } cloud : { public cloud , e.g. azure } count : 1 names : { empty , will be filled in by script } region : { cloud region that gateways will be deployed in } regionalCidr : { list of IP address space in Resource group } regkeys : { empty , will be filled in by script } resourceGroup : name : { Azure Resource Group name used/created } region : { Azure Resource Group region used/created } tag : { text } network_action : { e.g. create , get , delete } network_name : { network name to use } services : - action : { e.g. create , get , delete } gateway : { name of the gateway used for this service } ip : (destination ip for the service) name : { empty , automatically generated and populated by the wrapper script } port : (destination port for the service) type : { e.g. host , network; host only enabled in this script right now } terraform : bin : { path to terraform binary } output : { boolean e.g. no or yes } source : ./quickstarts/docs/terraform { where the terraform module is located e.g. azure } work_dir : . { directory where the terraform from main plan file to be installed }","title":"resource.yaml file options"},{"location":"azure/accessing-azure-stack/","text":"1 Administrator setup @ Before the Netfoundry\u2019s \u201cApplication Connection Gateway\u201d can be consumed by the user, the administrator must download the image from Azure marketplace to the stack marketplace. There is comprehensive guide from azure stack documentation on how to make image available for the local consumption. The document can be found here: Download Azure marketplace Please locate the offering \u201cApplication Connection Gateway\u201d and make it available via download to the azure stack. Once the download is complete, the image can now be used by the local user. 2 Setup a VCPE Gateway on the Azure stack @ 2.1 Create an Azure Stack Gateway in the NetFoundry Console @ Sign in to your NetFoundry organization; Navigate to the Gateways page and create a new Azure Stack gateway. Give it a name and location, then click the Create button; Take note of the registration key. You will need it to register the gateway later. 2.2 Launch a NetFoundry Gateway Instance Inside of Your Azure Stack @ Sign in to your account on the Azure portal and go to \u2192 Resource groups. Once inside the resource group, Click the \"+ Add\" button on the toolbar. Search for \" Application Connection Gateway (Azure Stack)\". Click on the result, the description should be shown. Click the \"Create\" button to launch the wizard. Enter basics information: Enter the Username as \"nfadmin\". Important The username must be nfadmin to gain access to this gateway; ( the username restriction will be removed soon ) Click OK to continue Next page, on choosing the compute size, it varies depends on your need. We are using a 2 VCPUs and 4 GB RAM for this example. Continue to finish setup and let system bring up the VM. 2.3 Register the gateway with your NetFoundry Network @ Once the resource is created, go to the resource group & click on the virtual machine name to view the details. Locate the machine's public IP address. Using an SSH client, log in to the machine using its public IP address as the user \"nfadmin\", using the SSH key or password specified earlier. > ssh -i [path/to/private/key] nfadmin@[public_ip_address] What to do if you cannot login to the VM? It has been discovered that when using some version of Azure Stack (i.e. 1.1908.0.20) that after launching the VM, the user must reset the SSH key via the Azure console. This is accomplished by selecting the newly created VM and clicking \"reset password\" in the bottom left hand corner of the console. Here, you will find two fields to fill in; the first being the username (nfadmin), followed by the ssh key field where the user will enter the contents of their public ssh key. Once the fields are populated properly, select \"update\". Once you are logged in to the gateway, run these commands to register it to your NetFoundry Network. Look for errors in the registration process output, or \"Success\" if registration completes successfully. [registration key] is the key you captured earlier. > sudo nfnreg [registration key] > sudo systemctl status dvn.service The output should report ACTIVE . Most common causes for registration to fail are: Not having an IP assigned (correctly), Not having a working default gateway for Internet access, Not having a valid DNS resolver. It may take up to 5 minutes to register and come online. Once the Gateway Instance has started up, switch back to the NetFoundry Console and locate the Gateway Endpoint. Confirm that the status indicator is green, which means that it has successfully registered and is online. If the status indicator remains grey, then the gateway has failed to register. If it is red, the gateway has registered, but is offline. 3 Create Service to Reach the server @ Here is an example on how to reach the server on the Azure stack side by using the AppWan provisioning on the NetFoundry Console. In this example, we are going to assume the client you are using to connect to the server is called NFCLIENT1 . On the NFCONSOLE, choose MANAGE APPWANS button. On the MANAGE APPWANS screen, hit the + button. Choose CREATE APPWAN , a form will display for you to create the AppWAN. 1 Fill in the Application Name (Examples can be: Access US WEST STACK, Access Webpage) 2 Choose your GW 3 Fill in the Connection information. This is where you want the traffic to go once it reaches the Azure Stack GW (in our example, we fill in a subnet: 192.168.2.0/24) 4 Add your client to the APPWAN Hit Create your APPWAN , and your AppWAN will be created. Once the AppWAN is created, your client NFCLIENT1 should be able to access the network \u201c192.168.2.0/24\u201d via the Azure Stack GW.","title":"Accessing Azure Stack"},{"location":"azure/accessing-azure-stack/#1_administrator_setup","text":"Before the Netfoundry\u2019s \u201cApplication Connection Gateway\u201d can be consumed by the user, the administrator must download the image from Azure marketplace to the stack marketplace. There is comprehensive guide from azure stack documentation on how to make image available for the local consumption. The document can be found here: Download Azure marketplace Please locate the offering \u201cApplication Connection Gateway\u201d and make it available via download to the azure stack. Once the download is complete, the image can now be used by the local user.","title":"1 Administrator setup"},{"location":"azure/accessing-azure-stack/#2_setup_a_vcpe_gateway_on_the_azure_stack","text":"","title":"2 Setup a VCPE Gateway on the Azure stack"},{"location":"azure/accessing-azure-stack/#21_create_an_azure_stack_gateway_in_the_netfoundry_console","text":"Sign in to your NetFoundry organization; Navigate to the Gateways page and create a new Azure Stack gateway. Give it a name and location, then click the Create button; Take note of the registration key. You will need it to register the gateway later.","title":"2.1 Create an Azure Stack Gateway in the NetFoundry Console"},{"location":"azure/accessing-azure-stack/#22_launch_a_netfoundry_gateway_instance_inside_of_your_azure_stack","text":"Sign in to your account on the Azure portal and go to \u2192 Resource groups. Once inside the resource group, Click the \"+ Add\" button on the toolbar. Search for \" Application Connection Gateway (Azure Stack)\". Click on the result, the description should be shown. Click the \"Create\" button to launch the wizard. Enter basics information: Enter the Username as \"nfadmin\". Important The username must be nfadmin to gain access to this gateway; ( the username restriction will be removed soon ) Click OK to continue Next page, on choosing the compute size, it varies depends on your need. We are using a 2 VCPUs and 4 GB RAM for this example. Continue to finish setup and let system bring up the VM.","title":"2.2 Launch a NetFoundry Gateway Instance Inside of Your Azure Stack"},{"location":"azure/accessing-azure-stack/#23_register_the_gateway_with_your_netfoundry_network","text":"Once the resource is created, go to the resource group & click on the virtual machine name to view the details. Locate the machine's public IP address. Using an SSH client, log in to the machine using its public IP address as the user \"nfadmin\", using the SSH key or password specified earlier. > ssh -i [path/to/private/key] nfadmin@[public_ip_address] What to do if you cannot login to the VM? It has been discovered that when using some version of Azure Stack (i.e. 1.1908.0.20) that after launching the VM, the user must reset the SSH key via the Azure console. This is accomplished by selecting the newly created VM and clicking \"reset password\" in the bottom left hand corner of the console. Here, you will find two fields to fill in; the first being the username (nfadmin), followed by the ssh key field where the user will enter the contents of their public ssh key. Once the fields are populated properly, select \"update\". Once you are logged in to the gateway, run these commands to register it to your NetFoundry Network. Look for errors in the registration process output, or \"Success\" if registration completes successfully. [registration key] is the key you captured earlier. > sudo nfnreg [registration key] > sudo systemctl status dvn.service The output should report ACTIVE . Most common causes for registration to fail are: Not having an IP assigned (correctly), Not having a working default gateway for Internet access, Not having a valid DNS resolver. It may take up to 5 minutes to register and come online. Once the Gateway Instance has started up, switch back to the NetFoundry Console and locate the Gateway Endpoint. Confirm that the status indicator is green, which means that it has successfully registered and is online. If the status indicator remains grey, then the gateway has failed to register. If it is red, the gateway has registered, but is offline.","title":"2.3 Register the gateway with your NetFoundry Network"},{"location":"azure/accessing-azure-stack/#3_create_service_to_reach_the_server","text":"Here is an example on how to reach the server on the Azure stack side by using the AppWan provisioning on the NetFoundry Console. In this example, we are going to assume the client you are using to connect to the server is called NFCLIENT1 . On the NFCONSOLE, choose MANAGE APPWANS button. On the MANAGE APPWANS screen, hit the + button. Choose CREATE APPWAN , a form will display for you to create the AppWAN. 1 Fill in the Application Name (Examples can be: Access US WEST STACK, Access Webpage) 2 Choose your GW 3 Fill in the Connection information. This is where you want the traffic to go once it reaches the Azure Stack GW (in our example, we fill in a subnet: 192.168.2.0/24) 4 Add your client to the APPWAN Hit Create your APPWAN , and your AppWAN will be created. Once the AppWAN is created, your client NFCLIENT1 should be able to access the network \u201c192.168.2.0/24\u201d via the Azure Stack GW.","title":"3 Create Service to Reach the server"},{"location":"azure/azure-bastion/","text":"Overview @ What is a Bastion Host? A bastion host is a server whose purpose is to provide access to a private network from an external network, such as the Internet. Because of its exposure to potential attack, it's important to lock this down as tightly as possible. How can NetFoundry Help? Deploying a bastion host setup with NetFoundry is more secure! Why? Because the bastion doesn't need to be directly accessible from outside networks. It only needs outbound access & can reside in either public or private networks. Solution Architecture @ Standard Bastion Setup @ Netfoundry @ Public @ Private @ Important Assumption is that the NF Fabric is already up and the NF Client is installed. Implement Through NF Web Console UI @ Create and install NF Client @ This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac Create and Deploy NF Azure Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done Create IP Network Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Bastion Replacement Removal"},{"location":"azure/azure-bastion/#overview","text":"What is a Bastion Host? A bastion host is a server whose purpose is to provide access to a private network from an external network, such as the Internet. Because of its exposure to potential attack, it's important to lock this down as tightly as possible. How can NetFoundry Help? Deploying a bastion host setup with NetFoundry is more secure! Why? Because the bastion doesn't need to be directly accessible from outside networks. It only needs outbound access & can reside in either public or private networks.","title":"Overview"},{"location":"azure/azure-bastion/#solution_architecture","text":"","title":"Solution Architecture"},{"location":"azure/azure-bastion/#standard_bastion_setup","text":"","title":"Standard Bastion Setup"},{"location":"azure/azure-bastion/#netfoundry","text":"","title":"Netfoundry"},{"location":"azure/azure-bastion/#public","text":"","title":"Public"},{"location":"azure/azure-bastion/#private","text":"Important Assumption is that the NF Fabric is already up and the NF Client is installed.","title":"Private"},{"location":"azure/azure-bastion/#implement_through_nf_web_console_ui","text":"","title":"Implement Through NF Web Console UI"},{"location":"azure/azure-bastion/#create_and_install_nf_client","text":"This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac","title":"Create and install NF Client"},{"location":"azure/azure-bastion/#create_and_deploy_nf_azure_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done","title":"Create and Deploy NF Azure Gateway"},{"location":"azure/azure-bastion/#create_ip_network_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done","title":"Create IP Network Service"},{"location":"azure/azure-bastion/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"azure/connectApp2App/","text":"Overview @ This quickstart guide will provide all the steps to create a secure service between a branch application and/or user and an application hosted in Azure Cloud using NetFoundry Overlay Fabric (NFOF). PAGE UNDER CONSTRUCTION Important Assumption is that the NF Fabric is already up. Through NF Web Console UI @ Create and Deploy NF Gateway in Branch Datacenter @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Branch Datacenter. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the VCPE Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Download\" button on the Installation Package Card Download the correct image for the desired Hypervisor. Follow the installation procedure linked in the description of each image type (i.e. \"Click Here\"). Once installed, login into it locally with ssh and register it using the key copied in the previous step. Run the following command sudo nfnreg \"reg key\" Once registered, one should see the gateway status turn to green in NF Console UI Done Create and Deploy NF Azure Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done Create IP Host Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired gateway (e.g. DemoGateway01) from \"Available\" Gateways to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done Test Connectivity to Application Server @ Route to vNet The private IP of NF Gateway (e.g. YourBranchGatewayName) needs to be the next hop to reach the vNet in Azure (e.g. 10.0.8.0/24). Thus, a static route will need to be configured in one of the branch routers. NF Gateway can support dynamic routing if needed (e.g.bgp, ospf) Steps Log in to a Client App Host in Branch DataCenter Run ssh username@privateIpOfServerAppHostInAzure Programmatically @ via Python and Terraform @ Python Modules For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Create NF Gateway(s) Create NF Service(s) Create NF AppWan(s) Wrapper Script to Create NF Resources based on Resource yaml file Environment Setup Requirements ~/.env to store NF Credentials in (e.g. clientId, clientSecret ) to obtain a session token for NF API Export Azure Credentials (e.g, export ARM_TENANT_ID, ARM_CLIENT_ID, ARM_CLIENT_SECRET, ARM_SUBSCRIPTION_ID ) to enable resource gateway creation in Azure Resource Group via Terraform. Additional Information: The new Resource Group in Azure is created based on then name provided in Resource yaml , if one does not exists already in the same region (e.g. centralus). The action delete gateway will delete the RG as well even if it was an existing RG. If one does not want to delete the RG, the command terraform state rm \"{tf resource name for RG}\" needs to be run before running the gateway delete step. This will ensure that the RG is not deleted. A new vNet will be created and NF Gateway will be placed in it. Environment means the NF Console Environment used (e.g. production), not Azure.","title":"Branch Application To Cloud Application Connectivity"},{"location":"azure/connectApp2App/#overview","text":"This quickstart guide will provide all the steps to create a secure service between a branch application and/or user and an application hosted in Azure Cloud using NetFoundry Overlay Fabric (NFOF). PAGE UNDER CONSTRUCTION Important Assumption is that the NF Fabric is already up.","title":"Overview"},{"location":"azure/connectApp2App/#through_nf_web_console_ui","text":"","title":"Through NF Web Console UI"},{"location":"azure/connectApp2App/#create_and_deploy_nf_gateway_in_branch_datacenter","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Branch Datacenter. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the VCPE Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Download\" button on the Installation Package Card Download the correct image for the desired Hypervisor. Follow the installation procedure linked in the description of each image type (i.e. \"Click Here\"). Once installed, login into it locally with ssh and register it using the key copied in the previous step. Run the following command sudo nfnreg \"reg key\" Once registered, one should see the gateway status turn to green in NF Console UI Done","title":"Create and Deploy NF Gateway in Branch Datacenter"},{"location":"azure/connectApp2App/#create_and_deploy_nf_azure_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done","title":"Create and Deploy NF Azure Gateway"},{"location":"azure/connectApp2App/#create_ip_host_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done","title":"Create IP Host Service"},{"location":"azure/connectApp2App/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired gateway (e.g. DemoGateway01) from \"Available\" Gateways to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"azure/connectApp2App/#test_connectivity_to_application_server","text":"Route to vNet The private IP of NF Gateway (e.g. YourBranchGatewayName) needs to be the next hop to reach the vNet in Azure (e.g. 10.0.8.0/24). Thus, a static route will need to be configured in one of the branch routers. NF Gateway can support dynamic routing if needed (e.g.bgp, ospf) Steps Log in to a Client App Host in Branch DataCenter Run ssh username@privateIpOfServerAppHostInAzure","title":"Test Connectivity to Application Server"},{"location":"azure/connectApp2App/#programmatically","text":"","title":"Programmatically"},{"location":"azure/connectApp2App/#via_python_and_terraform","text":"Python Modules For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Create NF Gateway(s) Create NF Service(s) Create NF AppWan(s) Wrapper Script to Create NF Resources based on Resource yaml file Environment Setup Requirements ~/.env to store NF Credentials in (e.g. clientId, clientSecret ) to obtain a session token for NF API Export Azure Credentials (e.g, export ARM_TENANT_ID, ARM_CLIENT_ID, ARM_CLIENT_SECRET, ARM_SUBSCRIPTION_ID ) to enable resource gateway creation in Azure Resource Group via Terraform. Additional Information: The new Resource Group in Azure is created based on then name provided in Resource yaml , if one does not exists already in the same region (e.g. centralus). The action delete gateway will delete the RG as well even if it was an existing RG. If one does not want to delete the RG, the command terraform state rm \"{tf resource name for RG}\" needs to be run before running the gateway delete step. This will ensure that the RG is not deleted. A new vNet will be created and NF Gateway will be placed in it. Environment means the NF Console Environment used (e.g. production), not Azure.","title":"via Python and Terraform"},{"location":"azure/connectUser2App/","text":"Overview @ This quickstart guide will provide all the steps to create a secure service between a remote user and an application hosted in Azure Cloud using NetFoundry Overlay Fabric (NFOF). Important Assumption is that the NF Fabric is already up and the NF Client is installed. Through NF Web Console UI @ Create and install NF Client @ This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac Create and Deploy NF Azure Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done Create IP Host Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done Test Connectivity to Application Server @ To test connectivity, log in to the DemoClinet01 and run ssh username@privateIp Programmatically @ via Python and Terraform @ Python Modules For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Create NF Gateway(s) Create NF Service(s) Create NF AppWan(s) Wrapper Script to Create NF Resources based on Resource yaml file Environment Setup Requirements ~/.env to store NF Credentials in (e.g. clientId, clientSecret ) to obtain a session token for NF API Export Azure Credentials (e.g, export ARM_TENANT_ID, ARM_CLIENT_ID, ARM_CLIENT_SECRET, ARM_SUBSCRIPTION_ID ) to enable resource gateway creation in Azure Resource Group via Terraform. Additional Information: The new Resource Group in Azure is created based on then name provided in Resource yaml , if one does not exists already in the same region (e.g. centralus). The action delete gateway will delete the RG as well even if it was an existing RG. If one does not want to delete the RG, the command terraform state rm \"{tf resource name for RG}\" needs to be run before running the gateway delete step. This will ensure that the RG is not deleted. A new vNet will be created and NF Gateway will be placed in it. Environment means the NF Console Environment used (e.g. production), not Azure. Steps Clone this repo (git clone https://github.com/netfoundry/mop.git) Update Resource yaml file with the desired options to feed into the wrapper script as described in the following code snippet. All Resource.yml Options Run this from the root folder to create GW in NF Console UI and Azure. python3 quickstarts / docs / python / nf_resources . py -- file quickstarts / docs / python / nf_resources . yml Required Configuration Parameters for Gateway Creation environment : production network_action : get network_name : DemoNet01 gateway_list : - action : create cloud : azure count : 1 names : [] region : westus regionalCidr : [ 10.20.10.0/24 ] regkeys : [] resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . After the script is run successfully, one can see that the gateway name and registration key were saved in Resource.yml file. The name is created automatically based on region and gateway type joined with x and gateway count (AZCPEGW means an azure type gateway in NF console). One can create more than one gateway in the same region by increasing the count to more than 1. environment : production gateway_list : - action : create cloud : azure count : 1 names : - AZCPEGWx0xWESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . Create a test server vm on the same vNet if not already present. Update the Resoure.yaml file to include the Service option to create the NF service on the gateway create in the previous step. Don't forget to change the action on the gateway to \"get\". environment : production gateway_list : - action : get cloud : azure count : 1 names : - AZCPEGWx0xWESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . services : - action : create gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 port : 22 name : type : host After the script run again successfully, the service section should have been populated with the service name as so. services : - action : create gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 name : AZCPEGWx0xWESTUS--10.20.10.5--22 port : 22 type : host Create a client endpoint if not already done so. Update the Resoure.yaml file to include the AppWan option to create the NF AppWan tying the gateway, client and service created in the previous steps. Don't forget to change the action on the service option to \"get\". environment : production gateway_list : - action : get cloud : azure count : 1 names : - AZCPEGW-0-WESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 services : - action : get gateway : AZCPEGW-0-WESTUS ip : 10.20.10.5 name : AZCPEGWx0xWESTUS--10.20.10.5--22 port : 22 type : host terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . appwans : - action : create endpoints : - AZCPEGW-0-WESTUS - DemoClient01 name : appwan-ssh-22 services : - AZCPEGWx0xWESTUS--10.20.10.5 After the script ran again successfully, the connectivity should have been up. To test connectivity, log in to the DemoClinet01 and run ssh \"username\"@\"privateIp\" To delete resources created, just follow the reverse order. Change the action to delete for AppWans first, then other resources as indicated in the code snippets. appwans : - action : delete endpoints : - AZCPEGWx0xWESTUS - DemoClient01 name : null services : - AZCPEGWx0xWESTUS--10.20.10.5--22 Services services : - action : delete gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 name : null port : 22 type : host Endpoints - will delete all resources in Azure as well. terraform state rm \"{tf resource name for RG}\" // run this before the python script if Resource Group needs to be preserved 1. gateway_list : - action : delete cloud : azure count : 1 names : [] region : westus regionalCidr : - 10.20.10.0/24 regkeys : [] resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo Network environment : production network_action : delete network_name : DemoNet01 Done via Jenkins @ In this section, we will replace Resource yaml with Jenkinsfile to show how to automate the steps further by creating the Jenkins Job Coming Soon","title":"Mobile User To Cloud Application Connectivity"},{"location":"azure/connectUser2App/#overview","text":"This quickstart guide will provide all the steps to create a secure service between a remote user and an application hosted in Azure Cloud using NetFoundry Overlay Fabric (NFOF). Important Assumption is that the NF Fabric is already up and the NF Client is installed.","title":"Overview"},{"location":"azure/connectUser2App/#through_nf_web_console_ui","text":"","title":"Through NF Web Console UI"},{"location":"azure/connectUser2App/#create_and_install_nf_client","text":"This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac","title":"Create and install NF Client"},{"location":"azure/connectUser2App/#create_and_deploy_nf_azure_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done","title":"Create and Deploy NF Azure Gateway"},{"location":"azure/connectUser2App/#create_ip_host_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done","title":"Create IP Host Service"},{"location":"azure/connectUser2App/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"azure/connectUser2App/#test_connectivity_to_application_server","text":"To test connectivity, log in to the DemoClinet01 and run ssh username@privateIp","title":"Test Connectivity to Application Server"},{"location":"azure/connectUser2App/#programmatically","text":"","title":"Programmatically"},{"location":"azure/connectUser2App/#via_python_and_terraform","text":"Python Modules For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Create NF Gateway(s) Create NF Service(s) Create NF AppWan(s) Wrapper Script to Create NF Resources based on Resource yaml file Environment Setup Requirements ~/.env to store NF Credentials in (e.g. clientId, clientSecret ) to obtain a session token for NF API Export Azure Credentials (e.g, export ARM_TENANT_ID, ARM_CLIENT_ID, ARM_CLIENT_SECRET, ARM_SUBSCRIPTION_ID ) to enable resource gateway creation in Azure Resource Group via Terraform. Additional Information: The new Resource Group in Azure is created based on then name provided in Resource yaml , if one does not exists already in the same region (e.g. centralus). The action delete gateway will delete the RG as well even if it was an existing RG. If one does not want to delete the RG, the command terraform state rm \"{tf resource name for RG}\" needs to be run before running the gateway delete step. This will ensure that the RG is not deleted. A new vNet will be created and NF Gateway will be placed in it. Environment means the NF Console Environment used (e.g. production), not Azure. Steps Clone this repo (git clone https://github.com/netfoundry/mop.git) Update Resource yaml file with the desired options to feed into the wrapper script as described in the following code snippet. All Resource.yml Options Run this from the root folder to create GW in NF Console UI and Azure. python3 quickstarts / docs / python / nf_resources . py -- file quickstarts / docs / python / nf_resources . yml Required Configuration Parameters for Gateway Creation environment : production network_action : get network_name : DemoNet01 gateway_list : - action : create cloud : azure count : 1 names : [] region : westus regionalCidr : [ 10.20.10.0/24 ] regkeys : [] resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . After the script is run successfully, one can see that the gateway name and registration key were saved in Resource.yml file. The name is created automatically based on region and gateway type joined with x and gateway count (AZCPEGW means an azure type gateway in NF console). One can create more than one gateway in the same region by increasing the count to more than 1. environment : production gateway_list : - action : create cloud : azure count : 1 names : - AZCPEGWx0xWESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . Create a test server vm on the same vNet if not already present. Update the Resoure.yaml file to include the Service option to create the NF service on the gateway create in the previous step. Don't forget to change the action on the gateway to \"get\". environment : production gateway_list : - action : get cloud : azure count : 1 names : - AZCPEGWx0xWESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . services : - action : create gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 port : 22 name : type : host After the script run again successfully, the service section should have been populated with the service name as so. services : - action : create gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 name : AZCPEGWx0xWESTUS--10.20.10.5--22 port : 22 type : host Create a client endpoint if not already done so. Update the Resoure.yaml file to include the AppWan option to create the NF AppWan tying the gateway, client and service created in the previous steps. Don't forget to change the action on the service option to \"get\". environment : production gateway_list : - action : get cloud : azure count : 1 names : - AZCPEGW-0-WESTUS region : westus regionalCidr : - 10.20.10.0/24 regkeys : - 21DB86724EC3F31C11C1C9D68CE5ECD6A06F057E resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo network_action : get network_name : DemoNet01 services : - action : get gateway : AZCPEGW-0-WESTUS ip : 10.20.10.5 name : AZCPEGWx0xWESTUS--10.20.10.5--22 port : 22 type : host terraform : bin : terraform output : 'no' source : ./quickstarts/docs/terraform work_dir : . appwans : - action : create endpoints : - AZCPEGW-0-WESTUS - DemoClient01 name : appwan-ssh-22 services : - AZCPEGWx0xWESTUS--10.20.10.5 After the script ran again successfully, the connectivity should have been up. To test connectivity, log in to the DemoClinet01 and run ssh \"username\"@\"privateIp\" To delete resources created, just follow the reverse order. Change the action to delete for AppWans first, then other resources as indicated in the code snippets. appwans : - action : delete endpoints : - AZCPEGWx0xWESTUS - DemoClient01 name : null services : - AZCPEGWx0xWESTUS--10.20.10.5--22 Services services : - action : delete gateway : AZCPEGWx0xWESTUS ip : 10.20.10.5 name : null port : 22 type : host Endpoints - will delete all resources in Azure as well. terraform state rm \"{tf resource name for RG}\" // run this before the python script if Resource Group needs to be preserved 1. gateway_list : - action : delete cloud : azure count : 1 names : [] region : westus regionalCidr : - 10.20.10.0/24 regkeys : [] resourceGroup : name : demoPythonTerraform01 region : centralus tag : TerraformDemo Network environment : production network_action : delete network_name : DemoNet01 Done","title":"via Python and Terraform"},{"location":"azure/connectUser2App/#via_jenkins","text":"In this section, we will replace Resource yaml with Jenkinsfile to show how to automate the steps further by creating the Jenkins Job Coming Soon","title":"via Jenkins"},{"location":"azure/intro/","text":"Overview @ Users or Applications can reach applications located in Azure's Private vNets over Internet using secure tunnels from anywhere users have connections to the Internet or Applications located in Private Branch Datacenters as depicted in the diagram. Note The tunnels are encrypted and user-app or app-app sessions are hashed across 3 diverse paths by default. Use Case Diagram @","title":"Use Cases Overview"},{"location":"azure/intro/#overview","text":"Users or Applications can reach applications located in Azure's Private vNets over Internet using secure tunnels from anywhere users have connections to the Internet or Applications located in Private Branch Datacenters as depicted in the diagram. Note The tunnels are encrypted and user-app or app-app sessions are hashed across 3 diverse paths by default.","title":"Overview"},{"location":"azure/intro/#use_case_diagram","text":"","title":"Use Case Diagram"},{"location":"common/azure-environment-setup-note/","text":"Environment Setup Requirements ~/.env to store NF Credentials in (e.g. clientId, clientSecret ) to obtain a session token for NF API Export Azure Credentials (e.g, export ARM_TENANT_ID, ARM_CLIENT_ID, ARM_CLIENT_SECRET, ARM_SUBSCRIPTION_ID ) to enable resource gateway creation in Azure Resource Group via Terraform. Additional Information: The new Resource Group in Azure is created based on then name provided in Resource yaml , if one does not exists already in the same region (e.g. centralus). The action delete gateway will delete the RG as well even if it was an existing RG. If one does not want to delete the RG, the command terraform state rm \"{tf resource name for RG}\" needs to be run before running the gateway delete step. This will ensure that the RG is not deleted. A new vNet will be created and NF Gateway will be placed in it. Environment means the NF Console Environment used (e.g. production), not Azure.","title":"Azure environment setup note"},{"location":"common/create-appwan-client/","text":"Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create appwan client"},{"location":"common/create-appwan-client/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired client (e.g. DemoClient01) from \"Available\" Clients to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"common/create-appwan-gateway/","text":"Create AppWan @ This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired gateway (e.g. DemoGateway01) from \"Available\" Gateways to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create appwan gateway"},{"location":"common/create-appwan-gateway/#create_appwan","text":"This section will guide a user through the steps on how to enable service connectivity to users by creating an appwan. Console UI Navigate to Manage AppWANS Page under Manage Appwans Click on + sign in the top right corner. Click on \"Component Builder Appwan\" Move the desired gateway (e.g. DemoGateway01) from \"Available\" Gateways to \"Selected\" Endpoints. Move the desired service (e.g. DemoServiceSsh) from \"Available\" to \"Selected\" Services. Click on \"Create\". Done","title":"Create AppWan"},{"location":"common/create-aws-gateway/","text":"Create and Install NF AWS Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in an AWS VPC. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the AWS Cloud Gateway Card Fill in the required information and click on \"Create\" Note If this is the first time you've ever launched an AWS NetFoundry Gateway You must accept the AWS license before launching the gateway, please click here: AWS Marketplace Click on \"Launch Gateway Using CloudFormation Script\". It will take you to the AWS console, if you're not already logged in it will ask you for your login credentials. You will be presented with the template parameters that needs to be filled. Fill in the AWS Parameters Section with you're VPC & ssh keyname & Click Create Stack. If the NF Gateway was deployed successfully. Here is the view of the NF Conole UI. Done","title":"Create aws gateway"},{"location":"common/create-aws-gateway/#create_and_install_nf_aws_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in an AWS VPC. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the AWS Cloud Gateway Card Fill in the required information and click on \"Create\" Note If this is the first time you've ever launched an AWS NetFoundry Gateway You must accept the AWS license before launching the gateway, please click here: AWS Marketplace Click on \"Launch Gateway Using CloudFormation Script\". It will take you to the AWS console, if you're not already logged in it will ask you for your login credentials. You will be presented with the template parameters that needs to be filled. Fill in the AWS Parameters Section with you're VPC & ssh keyname & Click Create Stack. If the NF Gateway was deployed successfully. Here is the view of the NF Conole UI. Done","title":"Create and Install NF AWS Gateway"},{"location":"common/create-azure-gateway/","text":"Create and Deploy NF Azure Gateway @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done","title":"Create azure gateway"},{"location":"common/create-azure-gateway/#create_and_deploy_nf_azure_gateway","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Azure vNet. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the Azure Cloud Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Deploy to Microsoft Azure\". It will take you to the Azure Portal and ask you for your login credentials. You will be presented with the template that needs to be filled. The first section is the Basics regarding your Subscription and Resource Group this gateway will be deployed in. The second section related to resources associated with this gateway. e.g. vm name, ip address space, security groups, etc. you will paste the registration key copied in step 5. You will also need the public ssh key to use for access to this gateway remotely. You will need to agree to Azure Marketplace Terms and Conditions and click to \"Purchase\" to continue. If the NF Gateway was deployed successfully. Here is the view of the Resource Group and NF Conole UI. Done","title":"Create and Deploy NF Azure Gateway"},{"location":"common/create-azurestack-gateway/","text":"2.1 Create an Azure Stack Gateway in the NetFoundry Console @ Sign in to your NetFoundry organization; Navigate to the Gateways page and create a new Azure Stack gateway. Give it a name and location, then click the Create button; Take note of the registration key. You will need it to register the gateway later.","title":"Create azurestack gateway"},{"location":"common/create-azurestack-gateway/#21_create_an_azure_stack_gateway_in_the_netfoundry_console","text":"Sign in to your NetFoundry organization; Navigate to the Gateways page and create a new Azure Stack gateway. Give it a name and location, then click the Create button; Take note of the registration key. You will need it to register the gateway later.","title":"2.1 Create an Azure Stack Gateway in the NetFoundry Console"},{"location":"common/create-ip-host-service/","text":"Create IP Host Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done","title":"Create ip host service"},{"location":"common/create-ip-host-service/#create_ip_host_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Host Service\" Fill in the required information for SSH and click on \"Create\" If successfully, the service is green. Done","title":"Create IP Host Service"},{"location":"common/create-ip-network-service/","text":"Create IP Network Service @ This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done","title":"Create ip network service"},{"location":"common/create-ip-network-service/#create_ip_network_service","text":"This section will guide a user through the steps on how to create a NF Service. Console UI Navigate to Manage Services Page under Manage Appwans Click on + sign in the top right corner. Click on \"Create an IP Network Service\" Fill in the required information for the Network your wanting to access. Important Please make sure the service you want to access is behind the gateway you specify here. If successfully, the service is green. Done","title":"Create IP Network Service"},{"location":"common/create-private-gateway/","text":"Create and Deploy NF Gateway in Branch Datacenter @ This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Branch Datacenter. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the VCPE Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Download\" button on the Installation Package Card Download the correct image for the desired Hypervisor. Follow the installation procedure linked in the description of each image type (i.e. \"Click Here\"). Once installed, login into it locally with ssh and register it using the key copied in the previous step. Run the following command sudo nfnreg \"reg key\" Once registered, one should see the gateway status turn to green in NF Console UI Done","title":"Create private gateway"},{"location":"common/create-private-gateway/#create_and_deploy_nf_gateway_in_branch_datacenter","text":"This section will guide a user through the steps on how to create a NF Manage Gateway in the NF Console UI and install it in the Branch Datacenter. Console UI Navigate to Manage Gateways Page Click on + sign in the top right corner. Click on \"Create Gateway\" on the VCPE Gateway Card Fill in the required information and click on \"Create\" Copy the Client Registration Key Click on \"Download\" button on the Installation Package Card Download the correct image for the desired Hypervisor. Follow the installation procedure linked in the description of each image type (i.e. \"Click Here\"). Once installed, login into it locally with ssh and register it using the key copied in the previous step. Run the following command sudo nfnreg \"reg key\" Once registered, one should see the gateway status turn to green in NF Console UI Done","title":"Create and Deploy NF Gateway in Branch Datacenter"},{"location":"common/fabric-client-important/","text":"Important Assumption is that the NF Fabric is already up and the NF Client is installed.","title":"Fabric client important"},{"location":"common/fabric-only-important/","text":"Important Assumption is that the NF Fabric is already up.","title":"Fabric only important"},{"location":"common/install-nf-client/","text":"Create and install NF Client @ This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac","title":"Install nf client"},{"location":"common/install-nf-client/#create_and_install_nf_client","text":"This section will guide a user through the steps on how to create a client in the NF Console UI. Then, it will provide links to Guides on how to install the NetFoundry Client Software for Windows and MAC Clients, including the registration with the NF Network Fabric. Console UI Navigate to Manage Clients Page Click on + sign in the top right corner. Fill in the required information and click on \"Create\" Copy the Client Registration Key Install the NF Client Software by following the directions at the appropriate OS link Window Mac","title":"Create and install NF Client"},{"location":"common/python-module-note/","text":"Python Modules For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Create NF Gateway(s) Create NF Service(s) Create NF AppWan(s) Wrapper Script to Create NF Resources based on Resource yaml file","title":"Python module note"},{"location":"gcp/intro/","text":"Use Case Overview @ Users can reach application located in GCP's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default. Use Case Diagram @","title":"Overview"},{"location":"gcp/intro/#use_case_overview","text":"Users can reach application located in GCP's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default.","title":"Use Case Overview"},{"location":"gcp/intro/#use_case_diagram","text":"","title":"Use Case Diagram"},{"location":"netfoundry/client/","text":"Overview @ One can find all the details needed to deploy NF Endpoint App on various Operating systems using the links below. Introduction to Client Endpoints NetFoundry Client FAQ Troubleshoot Client and Gateway Registration Errors","title":"NF Clients"},{"location":"netfoundry/client/#overview","text":"One can find all the details needed to deploy NF Endpoint App on various Operating systems using the links below. Introduction to Client Endpoints NetFoundry Client FAQ Troubleshoot Client and Gateway Registration Errors","title":"Overview"},{"location":"netfoundry/fabric/","text":"Overview @ This section will show how to do that through NF Console , and programatically using NF Orchestration's APIs via Console UI @ Click on Network Menu Click on \"+\" button in the top right corner to create a network Give it a name, e.g. \"DemoNet01\" Wait until the icon network turns green. Done via REST API (Python) @ Note For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Wrapper Script to Create NF Resources based on Resource yaml file To obtain a session token, the MOP Session Token script parses a configuration file for clientId, and clientSecret if they are not passed to it through the positional arguments (e.g. env, clientId, clientSecret). This configuration file must be located in the home directory under '~/.env' Clone this repo (git clone https://github.com/netfoundry/mop.git) Change directory to cd mop Update Resource yaml file with the desired options to feed into the wrapper script as described in the following code snippet. Run this from the root folder python3 quickstarts / docs / python / nf_resources . py -- file quickstarts / docs / python / nf_resources . yml Required Configuration Paramters environment : { NF Console Environment , e.g. Production } network_action : { e.g. create , get , delete } network_name : { e.g. DemoNet01 } Done Note The logs will be outputted to the log file named logoutput.txt under the directory that the script is run './'.","title":"NF Fabric"},{"location":"netfoundry/fabric/#overview","text":"This section will show how to do that through NF Console , and programatically using NF Orchestration's APIs","title":"Overview"},{"location":"netfoundry/fabric/#via_console_ui","text":"Click on Network Menu Click on \"+\" button in the top right corner to create a network Give it a name, e.g. \"DemoNet01\" Wait until the icon network turns green. Done","title":"via Console UI"},{"location":"netfoundry/fabric/#via_rest_api_python","text":"Note For the code clarity, we have broken down the code into multiple Python modules NF REST CRUD (Create,Read, Update and Delete) operations Get MOP Session Token Create NF Network Wrapper Script to Create NF Resources based on Resource yaml file To obtain a session token, the MOP Session Token script parses a configuration file for clientId, and clientSecret if they are not passed to it through the positional arguments (e.g. env, clientId, clientSecret). This configuration file must be located in the home directory under '~/.env' Clone this repo (git clone https://github.com/netfoundry/mop.git) Change directory to cd mop Update Resource yaml file with the desired options to feed into the wrapper script as described in the following code snippet. Run this from the root folder python3 quickstarts / docs / python / nf_resources . py -- file quickstarts / docs / python / nf_resources . yml Required Configuration Paramters environment : { NF Console Environment , e.g. Production } network_action : { e.g. create , get , delete } network_name : { e.g. DemoNet01 } Done Note The logs will be outputted to the log file named logoutput.txt under the directory that the script is run './'.","title":"via REST API (Python)"},{"location":"netfoundry/gateway/","text":"Overview @ One can find all the details needed to deploy NF Gateway Appliance on various Virtualization Hypervisors using the links below. Introduction to Gateway Endpoints NetFoundry Client FAQ Troubleshoot Client and Gateway Registration Errors","title":"NF Gateways"},{"location":"netfoundry/gateway/#overview","text":"One can find all the details needed to deploy NF Gateway Appliance on various Virtualization Hypervisors using the links below. Introduction to Gateway Endpoints NetFoundry Client FAQ Troubleshoot Client and Gateway Registration Errors","title":"Overview"},{"location":"netfoundry/intro/","text":"This section will provide details on how to deploy NF Network Fabric and its components. It will also provide all the details needed to deploy the edge NF app on various Operation Systems or appliance on various Virtualization Hypervisors to connect and authenticate them to the NF Fabric.","title":"Overview"},{"location":"vcpe/intro/","text":"Use Case Overview @ Users can reach application located in VCPE's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default. Use Case Diagram @","title":"Overview"},{"location":"vcpe/intro/#use_case_overview","text":"Users can reach application located in VCPE's private subnets over Internet using secure tunnels from anywhere users have connections to the Internet as depicted in the diagram. Note The tunnels are encrypted and user-app sessions are hashed across 3 diverse paths by default.","title":"Use Case Overview"},{"location":"vcpe/intro/#use_case_diagram","text":"","title":"Use Case Diagram"}]}