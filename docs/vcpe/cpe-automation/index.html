
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../../images/fav.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-4.6.3" name="generator"/>
<title>CPE Automation - QuickStart Guides</title>
<link href="../../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
<link href="../../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../../extra.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<svg class="md-svg">
<defs>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#cpe_automation" tabindex="0">
        Skip to content
      </a>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application header -->
<header class="md-header" data-md-component="header">
<!-- Top-level navigation -->
<nav class="md-header-nav md-grid">
<div class="md-flex">
<!-- Link to home -->
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="QuickStart Guides" class="md-header-nav__button md-logo" href="../.." title="QuickStart Guides">
<img alt="logo" height="24" src="../../images/wide_logo.png" width="24"/>
</a>
</div>
<!-- Button to toggle drawer -->
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<!-- Header title -->
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
                QuickStart Guides
              </span>
<span class="md-header-nav__topic">
                
                  CPE Automation
                
              </span>
</div>
<span class="md-footer-meta md-typeset">
<div class="md-footer-social">
<link href="../../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-github" href="https://github.com/netfoundry" rel="noopener" target="_blank" title="github"></a>
<a class="md-footer-social__link fa fa-twitter" href="https://twitter.com/netfoundry" rel="noopener" target="_blank" title="twitter"></a>
<a class="md-footer-social__link fa fa-linkedin" href="https://linkedin.com/company/netfoundry" rel="noopener" target="_blank" title="linkedin"></a>
</div>
</span>
</div>
<!-- Button to open search dialogue -->
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Type to start searching
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Repository containing source -->
</div>
</nav>
</header>
<div class="md-container">
<nav class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        Home
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../netfoundry/intro/">
          NetFoundry Basics
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../aws/intro/">
          Cloud Providers
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../hypervisor/overview/">
          HyperVisors
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../api/overview/">
          API
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="../.." title="QuickStart Guides">
<img alt="logo" height="48" src="../../images/wide_logo.png" width="48"/>
</a>
    QuickStart Guides
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Home">
      Home
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      NetFoundry Basics
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-2">
        NetFoundry Basics
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../netfoundry/intro/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../netfoundry/fabric/" title="NF Fabric">
      NF Fabric
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../netfoundry/client/" title="NF Clients">
      NF Clients
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../netfoundry/gateway/" title="NF Gateways">
      NF Gateways
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Cloud Providers
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-3">
        Cloud Providers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" id="nav-3-1" type="checkbox"/>
<label class="md-nav__link" for="nav-3-1">
      AWS
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-1">
        AWS
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws/intro/" title="Use Case Overview">
      Use Case Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws/aws-bastion/" title="Bastion Replacement Removal">
      Bastion Replacement Removal
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" id="nav-3-2" type="checkbox"/>
<label class="md-nav__link" for="nav-3-2">
      Azure
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-2">
        Azure
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/intro/" title="Use Cases Overview">
      Use Cases Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/accessing-azure-stack/" title="Accessing Azure Stack">
      Accessing Azure Stack
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/azure-bastion/" title="Bastion Replacement Removal">
      Bastion Replacement Removal
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/connectApp2App/" title="Branch Application To Cloud Application Connectivity">
      Branch Application To Cloud Application Connectivity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/connectUser2App/" title="Mobile User To Cloud Application Connectivity">
      Mobile User To Cloud Application Connectivity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../azure/o365-optimization/" title="MS Office 365 Optimize">
      MS Office 365 Optimize
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" id="nav-3-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3-3">
      GCP
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-3">
        GCP
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../gcp/intro/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../gcp/getting-started/" title="Getting Started Guide">
      Getting Started Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" id="nav-3-4" type="checkbox"/>
<label class="md-nav__link" for="nav-3-4">
      AliCloud
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-4">
        AliCloud
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/intro/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/getting-started/" title="Getting Started Guide">
      Getting Started Guide
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../alicloud/user-guild/" title="User Guide">
      User Guide
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" id="nav-3-5" type="checkbox"/>
<label class="md-nav__link" for="nav-3-5">
      VCPE
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-3-5">
        VCPE
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../intro/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        CPE Automation
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="CPE Automation">
      CPE Automation
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#cpe_automation">
    CPE Automation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1_summary">
    1. Summary
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#this_guide_will_cover_the_following_sections">
    This guide will cover the following sections
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#this_guide_will_not_cover">
    This guide will not cover
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2_create_automation_vm">
    2. Create Automation VM
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#obtain_the_cpe-automation_ova">
    Obtain the CPE-Automation OVA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create_the_vm_with_the_ova">
    Create the VM with the OVA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#login_and_check_the_automation_vm">
    Login and Check the automation VM
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3_installing_centos_7_on_the_cpe">
    3. Installing CentOS 7 on the CPE
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_run_automation_to_setup_the_cpe_box">
    4. Run Automation to setup the CPE box
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5_centos_7_installation_media">
    5. CentOS 7 Installation Media
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#centos_7_image">
    CentOS 7 image
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#burn_image_to_a_usb_stick">
    Burn Image to a USB stick
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      HyperVisors
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-4">
        HyperVisors
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hypervisor/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
      Hyper-V
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
        Hyper-V
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hypervisor/hyper-v/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" id="nav-4-3" type="checkbox"/>
<label class="md-nav__link" for="nav-4-3">
      KVM
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-3">
        KVM
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hypervisor/kvm/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" id="nav-4-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4-4">
      VMware
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-4">
        VMware
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hypervisor/vmware/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" id="nav-4-5" type="checkbox"/>
<label class="md-nav__link" for="nav-4-5">
      VirtualBox
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-4-5">
        VirtualBox
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hypervisor/virtualbox/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      API
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" id="nav-5-2" type="checkbox"/>
<label class="md-nav__link" for="nav-5-2">
      Powershell
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-2">
        Powershell
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/powershell/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/powershell/getting-started/" title="Getting Started">
      Getting Started
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" id="nav-5-3" type="checkbox"/>
<label class="md-nav__link" for="nav-5-3">
      Python
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-3">
        Python
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/python/overview/" title="Overview">
      Overview
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" id="nav-5-4" type="checkbox"/>
<label class="md-nav__link" for="nav-5-4">
      Bash
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-5-4">
        Bash
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/bash/overview/" title="Overview">
      Overview
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#cpe_automation">
    CPE Automation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1_summary">
    1. Summary
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#this_guide_will_cover_the_following_sections">
    This guide will cover the following sections
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#this_guide_will_not_cover">
    This guide will not cover
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2_create_automation_vm">
    2. Create Automation VM
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#obtain_the_cpe-automation_ova">
    Obtain the CPE-Automation OVA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create_the_vm_with_the_ova">
    Create the VM with the OVA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#login_and_check_the_automation_vm">
    Login and Check the automation VM
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3_installing_centos_7_on_the_cpe">
    3. Installing CentOS 7 on the CPE
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4_run_automation_to_setup_the_cpe_box">
    4. Run Automation to setup the CPE box
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5_centos_7_installation_media">
    5. CentOS 7 Installation Media
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#centos_7_image">
    CentOS 7 image
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#burn_image_to_a_usb_stick">
    Burn Image to a USB stick
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-icon md-content__icon" download href="cpe-automation.pdf" title="PDF Export"></a>
<h1>CPE Automation</h1>
<h2 id="cpe_automation">CPE Automation<a class="headerlink" href="#cpe_automation" title="Permanent link">@</a></h2>
<p>Use this procedure to create NF Gateway enabled equipment automatically.</p>
<h2 id="1_summary">1. Summary<a class="headerlink" href="#1_summary" title="Permanent link">@</a></h2>
<h3 id="this_guide_will_cover_the_following_sections">This guide will cover the following sections<a class="headerlink" href="#this_guide_will_cover_the_following_sections" title="Permanent link">@</a></h3>
<p><li>Create an automation VM by using OVA provided by NetFoundry. This is a one-time setup.
<li>Install CentOS7 OS on the CPE box.
<li>Run the automation script from the automation VM to setup the CPE box</li></li></li></p>
<h3 id="this_guide_will_not_cover">This guide will not cover<a class="headerlink" href="#this_guide_will_not_cover" title="Permanent link">@</a></h3>
<p><li> This guide will <b>only</b> cover deployment of OVA with VMWare6.7, it will not cover all hypervisor out there. However, the provided OVA will work with VM Workstation 12 or EXSi 6.5 or later and VirtualBox.
<li> This guide will not cover how to setup installation media of Cent7 OS. At the end of guide, it will describe where to find the OS image and some tools.</li></li></p>
<h2 id="2_create_automation_vm">2. Create Automation VM<a class="headerlink" href="#2_create_automation_vm" title="Permanent link">@</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This procedure only needs to execute once for all CPE boxes. It is recommended to create this VM using VMWare hypervisor. </p>
</div>
<h3 id="obtain_the_cpe-automation_ova">Obtain the CPE-Automation OVA<a class="headerlink" href="#obtain_the_cpe-automation_ova" title="Permanent link">@</a></h3>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>We will need to put the OVA somewhere customer can download.</p>
</div>
<h3 id="create_the_vm_with_the_ova">Create the VM with the OVA<a class="headerlink" href="#create_the_vm_with_the_ova" title="Permanent link">@</a></h3>
<p>From your hypervisor, create a VM and use the <b>Deploy from OVA</b> option
<img alt="image" src="../../images/cpe-automation-01.png"/></p>
<p>Hit "<b>Next</b>", and you can choose your OVA image and give a name to the VM you are creating
<img alt="image" src="../../images/cpe-automation-02.png"/></p>
<p>Hit "<b>Next</b>", it will ask you which storage (Disk) you want to put your VM.  Choose one that suits you.
<img alt="image" src="../../images/cpe-automation-03.png"/></p>
<p>Hit "<b>Next</b>“ and choose your Network. (Hint, "VM Network" is your default network, that usually is a good choice). For "Disk provisioning", you can leave it at the default choice of "Thin".
<img alt="image" src="../../images/cpe-automation-04.png"/></p>
<p>Hit "<b>Next</b>", and you are ready to deploy the OVA. Review the content carefully and hit "<b>Finish</b>" to deploy it.
<img alt="image" src="../../images/cpe-automation-05.png"/></p>
<p>After you hit "<b>Finish</b>", on the Task window, you should notice the VM been created. Once the it reaches 100%, your VM is created.  And it should automatically start after the deployment is done.
<img alt="image" src="../../images/cpe-automation-06.png"/></p>
<h3 id="login_and_check_the_automation_vm">Login and Check the automation VM<a class="headerlink" href="#login_and_check_the_automation_vm" title="Permanent link">@</a></h3>
<p>Once the VM is completely deployed, we need to make sure the VM is setup correctly.<br/>
Go to the main VM window, right click on your VM,<br/>
on the popup menu, choose "<b>Console</b>"-&gt;"<b>Open browser console</b>".
<img alt="image" src="../../images/cpe-automation-07.png"/></p>
<p>You will see a console window pop up like this:
<img alt="image" src="../../images/cpe-automation-08.png"/></p>
<p>Login to the console by using credential <br/>
Username: <b>nfadmin</b><br/>
Password: <b>nfadmin</b><br/>
Check the IP setting by issuing "<b>ip a</b>" command. If you see a valid IP address, then your VM is on a network.
<img alt="image" src="../../images/cpe-automation-09.png"/></p>
<p>You can verify ssh access to the VM by using a ssh enabled terminal:</p>
<pre><code>&gt; ssh nfadmin@[ip_address_of_the_automation_vm]
</code></pre>
<div class="admonition conclusion">
<p class="admonition-title">Conclusion</p>
<p>This is the end of deploying the automation VM.</p>
</div>
<h2 id="3_installing_centos_7_on_the_cpe">3. Installing CentOS 7 on the CPE<a class="headerlink" href="#3_installing_centos_7_on_the_cpe" title="Permanent link">@</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><b>Have this ready before you start:</b> You will need a CentOS 7 installation media before you start.</p>
</div>
<p>Insert an Ethernet Cable into your CPE and bootup your CPE via the installation media, you will encounter the first screen:
<img alt="image" src="../../images/cpe-automation-10.png"/></p>
<p>Choose "<b>Install CentOS 7</b>" to continue.<br/></p>
<p>On the next screen, Choose your Language. And hit "<b>Continue</b>"
<img alt="image" src="../../images/cpe-automation-11.png"/></p>
<p>The "<b>INSTALLATION SUMMARY</b>" screen will appear.<br/>
Check to make sure the step (1) "<b>SOFTWARE SELECTION</b>" is set to "<b>Minimal Install</b>".<br/>
Then Click on step (2) "<b>INSTALLATION DESTINATION</b>" to setup the Disk.
<img alt="image" src="../../images/cpe-automation-12.png"/></p>
<p>Once in the "<b>INSTALLATION DESTINATION</b>" screen<br/>
Choose your Disk (NOT the USB installation media)<br/>
Click on "<b>Automatically configure partitioning</b>"
Then hit "<b>Done</b>" at the top left screen to continue.<br>
<img alt="image" src="../../images/cpe-automation-13.png"/></br></p>
<p>Once you are back to the "INSTALLATION SUMMARY" screen<br/>
Choose step (3) "NETWORK &amp; HOST NAME". The following screen should appear.<br/>
Turn on the Ethernet by hitting the button marked (1).<br/>
And then observe the IP Address appears below it (at area Marked (2)). (We will need that IP address when we run the automation).<br/>
Then hit "<b>Done</b>" at the top left screen to continue.
<img alt="image" src="../../images/cpe-automation-14.png"/></p>
<p>You should be back to the "INSTALLATION SUMAMRY" screen again, and you can hit "<b>Begin Installation"</b>" to start the Installation.</p>
<p><img alt="image" src="../../images/cpe-automation-15.png"/></p>
<p>During the installation, you need to create a user account. For our deployment, you do not need to create root Password. So, press on "<b>USER CREATION</b>" to create an Admin user.
<img alt="image" src="../../images/cpe-automation-16.png"/></p>
<p>On the "<b>CREATE USER</b>" screen, you need to fill the following:<br/>
Username: <b>nfadmin</b><br/>
click on "<b>Make this user administrator</b>"<br/>
Password: <b>nfadmin</b><br/>
You then need to click "<b>Done</b>" twice to exit this screen.<br>
<img alt="image" src="../../images/cpe-automation-17.png"/></br></p>
<p>You will be sent back to the installation screen, wait for it to complete installation, and the "<b>Reboot</b>" button will appear for you to restart the CPE with the CentOS installed.
<img alt="image" src="../../images/cpe-automation-18.png"/></p>
<div class="admonition conclusion">
<p class="admonition-title">Conclusion</p>
<p>This is the end of installing CentOS 7 on the CPE box.</p>
</div>
<h2 id="4_run_automation_to_setup_the_cpe_box">4. Run Automation to setup the CPE box<a class="headerlink" href="#4_run_automation_to_setup_the_cpe_box" title="Permanent link">@</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need the IP address of your automation VM and the IP address of your CPE to continue this step</p>
</div>
<p>Connect to your automation VM via ssh from a terminal</p>
<pre><code>&gt; ssh nfadmin@[ip_address_of_the_automation_vm]
</code></pre>
<p>Login to the VM by using password: <b>nfadmin</b></p>
<p>Start the automation by issuing the following command:</p>
<pre><code>&gt; ./setup-nfnbox.bash [ip_address_of_cpe]
</code></pre>
<p>The automation will prompt you to enter<br/>
"<b>SSH password</b>" to login to the CPE box (<b>nfadmin</b>)<br/>
"<b>BECOME password</b>" (hit &lt;ENTER&gt; key)
<img alt="image" src="../../images/cpe-automation-19.png"/></p>
<p>The automation will take a few minutes to complete. At the end of automation, you will see message like this:</p>
<div class="highlight"><pre><span></span><code>PLAY RECAP ******************************************************************************************************************
10.111.111.1               : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
192.168.1.184              : ok=35   changed=28   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0
</code></pre></div>
<div class="admonition conclusion">
<p class="admonition-title">Conclusion</p>
<p>The CPE is now setup and ready.</p>
</div>
<h2 id="5_centos_7_installation_media">5. CentOS 7 Installation Media<a class="headerlink" href="#5_centos_7_installation_media" title="Permanent link">@</a></h2>
<div class="admonition disclaimer">
<p class="admonition-title">Disclaimer</p>
<p>There are many ways to obtain and setup the installation media. If you never set one up before, the quickest and easiest way to create one is by downloading the OS image and burn it to a USB by using disk utility.</p>
</div>
<h3 id="centos_7_image">CentOS 7 image<a class="headerlink" href="#centos_7_image" title="Permanent link">@</a></h3>
<p>You can obtain a copy of OS image by visiting centos.org. But since you need to get a CentOS 7 image (not the latest CentOS 8), here is a quick link to Cent7OS mirror sites: <br/></p>
<div class="highlight"><pre><span></span><code>http://isoredirect.centos.org/centos/7/isos/x86_64/
</code></pre></div>
<p>Recommend download the "CentOS-7-x86_64-DVD-xxxx.iso" (around 4.5G). This is the image tested.  Since we use minimal installation from CentOS 7, so the minimal image should work also "CentOS-7-x86_64-Minimal-xxxx.iso" (around 1G)<br/></p>
<h3 id="burn_image_to_a_usb_stick">Burn Image to a USB stick<a class="headerlink" href="#burn_image_to_a_usb_stick" title="Permanent link">@</a></h3>
<p>You can burn the image to a USB stick by using Rufus (if you are on a PC). You can find many tutorials on the internet if you have trouble</p>
</article>
</div>
</div>
</main>
<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Application footer -->
<footer class="md-footer">
<!-- Link to previous and/or next page -->
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<!-- Link to previous page -->
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../intro/" rel="prev" title="Overview">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </span>
</div>
</a>
<!-- Link to next page -->
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../../hypervisor/overview/" rel="next" title="Overview">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<!-- Further information -->
</footer></div>
</body></html>

<script src="../../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.1",url:{base:"../.."}})</script>

